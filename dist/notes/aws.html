<!DOCTYPE html><html><head>
    <meta charset="utf-8">
<meta content="text/html; charset=utf-8" http-equiv="Content-Type">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">


<title>AWS â€“ Mechpen</title>


<link rel="icon" type="image/png" href="/assets/favicon.png">
<link rel="stylesheet" href="/assets/style.css">

    
    
    <link href="/assets/prism.css" rel="stylesheet">
    
    <link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.5.1/katex.min.css" rel="stylesheet">
    
  </head>

  <body>
    <div>
      <div class="container">
        <header class="masthead clearfix">
          <div class="site-info">
            <a href="/" class="site-name">Mechpen</a>
          </div>
          <nav>
	    <a href="/">posts</a>
	    <a href="/notes">notes</a>
	    <a href="/about">about</a>
          </nav>
        </header>
      </div>
    </div>

    <div id="main" role="main" class="container">
      <article class="page">
  <h1>AWS</h1>

  <div class="entry">
    <h2 id="load-balancers" tabindex="-1"><a class="header-anchor" href="#load-balancers">load balancers</a></h2>
<ul>
<li>
<p><strong>Classic TCP ELB</strong> works like TCP proxy.  It creates 2 back to back
TCP connections for a client connection: one from the client to ELB,
the other from ELB to a server instance.  ELB security groups need
to allow incoming traffic from public internet, and instance
security groups need to allow incoming traffic from ELB.</p>
</li>
<li>
<p><strong>NLB</strong> works like NAT.  It keeps a client connection without
changing source IP, ports, and sequence numbers.  NLB does not have
security group.  The instance security group need to allow incoming
traffic from public internet.</p>
</li>
</ul>
<h2 id="aws-cli" tabindex="-1"><a class="header-anchor" href="#aws-cli">aws cli</a></h2>
<p>who am i:</p>
<pre class="language-text" tabindex="0"><code class="language-text">aws sts get-caller-identity
</code></pre>
<p>get instance role and credentials</p>
<pre class="language-text" tabindex="0"><code class="language-text">curl http://169.254.169.254/latest/meta-data/iam/security-credentials
</code></pre>

  </div>
</article>

    </div>
  

</body></html>